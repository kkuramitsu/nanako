# ななこ（Nanako）チュートリアル

このチュートリアルでは、ななこプログラミング言語の基本から応用まで、段階的に学習できます。

## 目次
1. [はじめに](#はじめに)
2. [環境設定](#環境設定)
3. [第1章: 基本の変数操作](#第1章-基本の変数操作)
4. [第2章: 条件分岐](#第2章-条件分岐)
5. [第3章: ループ処理](#第3章-ループ処理)
6. [第4章: 配列操作](#第4章-配列操作)
7. [第5章: 文字列操作](#第5章-文字列操作)
8. [第6章: 関数定義](#第6章-関数定義)
9. [第7章: 実践課題](#第7章-実践課題)

---

## はじめに

ななこは生成AI時代の教育用プログラミング言語です。限定的な演算機能でチューリング完全性を実現し、プログラミングの本質を理解することを目的としています。

### ななこの特徴
- **限定された演算**: インクリメント（+1）、デクリメント（-1）、絶対値、符号反転のみ
- **0との比較**: 条件文では0との比較のみ可能
- **定回数ループ**: N回繰り返しまたは配列の長さ分繰り返し
- **日本語対応**: 直感的な日本語構文でプログラミング

---

## 環境設定

### 必要なもの
- Python 3.7以上

### 実行方法
```bash
# ファイル実行
python run_nanako.py examples/basic.nanako

# インタラクティブモード
python run_nanako.py --interactive
```

---

## 第1章: 基本の変数操作

### 1.1 変数の代入

まず、変数に値を代入してみましょう：

```nanako
# 数値の代入
x = 10
y = 5

# 日本語での代入
年齢 = 25
名前を"太郎"とする
```

**実習1**: 好きな名前の変数に好きな数値を代入してください。

### 1.2 インクリメントとデクリメント

ななこでは、変数を1つずつ増やしたり減らしたりできます：

```nanako
# 変数の設定
counter = 0

# インクリメント（増加）
counterを増やす
counterを増やす
# counterは2になります

# デクリメント（減少）
counterを減らす
# counterは1になります
```

**実習2**: 変数に5を代入し、3回増やして、2回減らしてください。最終的な値を予想してみましょう。

### 1.3 特殊な演算

```nanako
# 絶対値
x = -5
y = |x|  # yは5になります

# 符号反転
z = -y   # zは-5になります

# null値
empty = ?
```

**実習3**: 負の数を作って、その絶対値を求めてください。

---

## 第2章: 条件分岐

### 2.1 基本的な条件分岐

ななこでは、0との比較でのみ条件分岐ができます：

```nanako
x = 5

もし、xが0より大きいならば、{
    結果を"正の数"とする
}
そうでなければ {
    結果を"0または負の数"とする
}
```

### 2.2 比較演算子

利用できる比較演算子：

```nanako
# 0以上
もし、xが0以上ならば、{ ... }

# 0より大きい
もし、xが0より大きいならば、{ ... }

# 0以下
もし、xが0以下ならば、{ ... }

# 0より小さい  
もし、xが0より小さいならば、{ ... }

# 0以外（0でない）
もし、xが0以外ならば、{ ... }
```

**実習4**: 変数の値が正、負、ゼロのどれかを判定するプログラムを書いてください。

### 2.3 条件分岐の応用

```nanako
# 値の符号を判定
number = -3

もし、numberが0より大きいならば、{
    signを1とする
}
そうでなければ {
    もし、numberが0より小さいならば、{
        signを-1とする  # デクリメントで-1を作る必要があります
    }
    そうでなければ {
        signを0とする
    }
}
```

**実習5**: 上記のプログラムを実際に動かすために、`sign = -1` を作る部分をインクリメント・デクリメントで実装してください。

---

## 第3章: ループ処理

### 3.1 定回数ループ

指定した回数だけ処理を繰り返します：

```nanako
# カウンターを初期化
sum = 0

# 5回繰り返す
5回、くり返す{
    sumを増やす
}
# sumは5になります
```

### 3.2 配列の長さ分ループ

```nanako
# 配列を定義
numbers = [1, 2, 3, 4]
total = 0

# 配列の長さ分ループ
numbers回、くり返す{
    totalを増やす
}
# totalは4になります（配列の長さ）
```

**実習6**: 10回ループして、変数を10回増やすプログラムを書いてください。

### 3.3 ループを使った計算

```nanako
# 1から5までの合計を求める（概念的に）
result = 0
5回、くり返す{
    resultを増やす
    resultを増やす
    resultを増やす
}
# 実際は15になります（5回×3ずつ増加）
```

**実習7**: ループを使って、変数に20を加算するプログラムを書いてください。

---

## 第4章: 配列操作

### 4.1 配列の作成と参照

```nanako
# 配列の作成
fruits = ["apple", "banana", "orange"]
numbers = [10, 20, 30]

# 要素の参照
first = fruits[0]    # "apple"
second = numbers[1]  # 20
```

### 4.2 配列の更新

```nanako
# 配列の要素を変更
scores = [80, 90, 70]
scores[2] = 85  # 3番目の要素を85に変更
```

### 4.3 配列の長さ

```nanako
# 配列の長さを取得
data = [1, 2, 3, 4, 5]
length = |data|  # lengthは5
```

### 4.4 配列への要素追加（新機能！）

ななこでは`a[?] = x`構文を使って配列の末尾に要素を追加できます：

```nanako
# 空の配列から要素を追加
items[?] = 10   # itemsは[10]になります
items[?] = 20   # itemsは[10, 20]になります
items[?] = 30   # itemsは[10, 20, 30]になります
```

既存の配列に要素を追加することもできます：

```nanako
# 既存の配列
numbers = [1, 2, 3]

# 末尾に要素を追加
numbers[?] = 4   # numbersは[1, 2, 3, 4]になります
numbers[?] = 5   # numbersは[1, 2, 3, 4, 5]になります
```

**実習8**: 3つの数値を持つ配列を作成し、2番目の要素を別の値に変更してください。

**実習9**: 空の配列から始めて、`[?] = x`構文を使って5つの要素を追加してください。

---

## 第5章: 文字列操作

### 5.1 文字列リテラル（新機能！）

ななこでは文字列を文字コードの配列として扱います。文字列リテラルはダブルクォートで囲みます：

```nanako
# 基本的な文字列
message = "Hello"    # [72, 101, 108, 108, 111] になります
greeting = "こんにちは"  # [12371, 12435, 12395, 12385, 12399] になります
```

### 5.2 文字列の操作

文字列は配列として扱われるので、配列操作がそのまま使えます：

```nanako
# 文字列の作成
text = "ABC"         # [65, 66, 67]

# 文字の参照
first_char = text[0]  # 65 ('A'の文字コード)

# 文字の変更
text[1] = 88         # "AXC" ([65, 88, 67])

# 文字の追加
text[?] = 68         # "AXCD" ([65, 88, 67, 68])
```

### 5.3 文字列の長さ

```nanako
word = "Hello"
length = |word|      # 5
```

### 5.4 エスケープシーケンス

特殊文字はエスケープシーケンスで表現できます：

```nanako
# 改行を含む文字列
multiline = "Line1\nLine2"

# タブを含む文字列  
tabbed = "Column1\tColumn2"

# ダブルクォートを含む文字列
quoted = "She said \"Hello\""
```

**実習10**: 自分の名前を文字列として定義し、その文字コード配列を確認してください。

**実習11**: 文字列"Hello"に文字コード33（'!'）を追加して"Hello!"を作成してください。

---

## 第6章: 関数定義

### 6.1 基本的な関数定義

```nanako
# 足し算関数の定義
たし算 = 入力 X, Y に対し {
    Y回、くり返す{
        Xを増やす
    }
    Xが答え
}
```

### 6.2 関数の呼び出し

```nanako
# 関数を呼び出し
result = たし算(5, 3)  # resultは8
```

### 6.3 より実用的な関数

```nanako
# 引き算関数
ひき算 = 入力 X, Y に対し {
    Y回、くり返す{
        Xを減らす
    }
    Xが答え
}

# 絶対値関数
絶対値 = 入力 X に対し {
    もし Xが0より小さいならば {
        ひき算(0, X)が答え
    }
    そうでなければ {
        Xが答え
    }
}
```

**実習9**: 掛け算を実装してみてください。ヒント：足し算を繰り返し使います。

```nanako
# 掛け算のヒント
かけ算 = 入力 X, Y に対し {
    result = 0
    Y回、くり返す{
        # ここでresultにXを足す処理を実装
    }
    resultが答え
}
```

---

## 第7章: 実践課題

### 課題1: 階乗の計算

1から指定した数までの積を求める関数を実装してください：

```nanako
# 階乗のテンプレート
階乗 = 入力 N に対し {
    result = 1
    # ここを実装してください
    resultが答え
}
```

### 課題2: フィボナッチ数列

フィボナッチ数列のN番目を求める関数を実装してください：

```nanako
# フィボナッチのテンプレート  
フィボナッチ = 入力 N に対し {
    もし、Nが0以下ならば、{
        0が答え
    }
    そうでなければ {
        # ここを実装してください
    }
}
```

### 課題3: 配列の合計

配列の全要素の合計を求める関数を実装してください：

```nanako
# 配列の合計のテンプレート
配列の合計 = 入力 arr に対し {
    sum = 0
    |arr|回、くり返す{
        # ここを実装してください
    }
    sumが答え
}
```

### 課題4: 最大値を求める

配列の中の最大値を見つける関数を実装してください（比較は0との比較のみ使用）：

```nanako
# 最大値のテンプレート
最大値 = 入力 arr に対し {
    max = arr[0]
    |arr|回、くり返す{
        # 各要素とmaxを比較して更新
        # ヒント: 差を計算して0との比較を使う
    }
    maxが答え
}
```

### 課題5: 動的配列の作成

配列末尾追加機能を使って、指定した個数分の連続した数値を持つ配列を作成する関数を実装してください：

```nanako
# 連続数列のテンプレート
連続数列 = 入力 N に対し {
    result = ?  # 空の配列として初期化
    current = 1
    N回、くり返す{
        result[?] = current
        currentを増やす
    }
    resultが答え
}
```

### 課題6: 配列の結合

2つの配列を結合する関数を実装してください：

```nanako
# 配列結合のテンプレート
配列結合 = 入力 arr1, arr2 に対し {
    result = arr1  # 最初の配列をコピー
    |arr2|回、くり返す{
        # arr2の各要素をresultに追加
        # ヒント: インデックスを使ってarr2[i]を取得し、result[?]で追加
    }
    resultが答え
}
```

### 課題7: 文字列の反転（新機能を使った課題！）

文字列を文字コード配列として反転する関数を実装してください：

```nanako
# 文字列反転のテンプレート
文字列反転 = 入力 text に対し {
    result = []
    |text|回、くり返す{
        # textの最後の文字から順番にresultに追加
        # ヒント: text[|text| - 1 - i]のような形でアクセス
    }
    resultが答え
}
```

### 課題8: 文字列の連結

2つの文字列を連結する関数を実装してください：

```nanako
# 文字列連結のテンプレート
文字列連結 = 入力 str1, str2 に対し {
    result = str1  # 最初の文字列をコピー
    |str2|回、くり返す{
        # str2の各文字をresultに追加
    }
    resultが答え
}
```

### 課題9: 文字コード変換

数値配列を受け取って、それを文字コード配列として解釈し、特定の変換を行う関数を実装してください：

```nanako
# 大文字→小文字変換（A-Z → a-z）のテンプレート
大文字を小文字に = 入力 text に対し {
    result = []
    |text|回、くり返す{
        char_code = text[i]
        # 65-90 (A-Z) の範囲なら +32 して小文字に変換
        # それ以外はそのまま追加
    }
    resultが答え
}
```

---

## 学習のヒント

1. **制約を活用**: 限定された演算を組み合わせて複雑な処理を実現
2. **段階的実装**: 小さな機能から始めて徐々に複雑なプログラムを作成  
3. **日本語の利用**: 直感的な日本語構文でアルゴリズムを表現
4. **デバッグ**: インタラクティブモードで動作を確認

## 次のステップ

- より複雑なアルゴリズムの実装
- 再帰的な関数の作成
- データ構造の操作
- パフォーマンスの最適化

---

## サポート

質問やより詳しい情報については：
- README.md を参照
- sample_programs.py でサンプルコードを確認
- japanese_samples.py で日本語構文の例を学習

ハッピープログラミング！